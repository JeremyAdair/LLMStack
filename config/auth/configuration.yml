# Authelia configuration
# This file uses environment variables set in .env. Replace secrets before use.

server:
  address: tcp://0.0.0.0:9091

log:
  level: info

jwt_secret: "${AUTHELIA_JWT_SECRET}"

session:
  name: authelia_session
  secret: "${AUTHELIA_SESSION_SECRET}"
  expiration: 3600
  inactivity: 300
  domain: "${AUTHELIA_DOMAIN}"

storage:
  encryption_key: "${AUTHELIA_STORAGE_ENCRYPTION_KEY}"
  local:
    path: /data/db.sqlite3

authentication_backend:
  file:
    path: /config/users_database.yml

access_control:
  default_policy: deny
  rules:
    - domain: "${AUTHELIA_DOMAIN}"
      policy: one_factor
      resources:
        - "^/flowise/.*$"
        - "^/openhands/.*$"
        - "^/grafana/.*$"
        - "^/$"

regulation:
  max_retries: 5
  find_time: 120
  ban_time: 300

notifier:
  filesystem:
    filename: /data/notification.txt
