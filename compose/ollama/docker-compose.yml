services:
  ollama:
    image: ollama/ollama:latest
    cpus: "${OLLAMA_CPUS:-6.0}"
    mem_limit: "${OLLAMA_MEM_LIMIT:-16g}"
    # Expose only on the internal network by default.
    expose:
      - "11434"
    volumes:
      # Persist downloaded models and blobs on host.
      - ${LLMSTACK_HOST_ROOT:-C:/llm-stack}/ollama/data:/root/.ollama
    networks:
      - llm-stack
